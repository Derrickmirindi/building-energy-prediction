<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Building Energy Prediction System - CNN Model</title><script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest"></script><script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-layers@latest"></script><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Times New Roman',serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;padding:20px}.container{max-width:1200px;margin:0 auto;background:white;border-radius:15px;box-shadow:0 20px 60px rgba(0,0,0,0.3);overflow:hidden}.header{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;padding:40px 30px;text-align:center}.header h1{font-size:2.5em;margin-bottom:10px;font-weight:bold}.header p{font-size:1.1em;opacity:0.95}.content{padding:40px}.info-section{background:#f8f9fa;border-left:5px solid #667eea;padding:20px;margin-bottom:30px;border-radius:8px}.info-section h3{color:#667eea;margin-bottom:10px;font-size:1.2em}.info-section p{color:#555;line-height:1.6}.form-container{display:grid;grid-template-columns:1fr 1fr;gap:25px;margin-bottom:30px}.form-group{display:flex;flex-direction:column}.form-group label{font-weight:bold;color:#333;margin-bottom:8px;font-size:0.95em}.form-group input{padding:12px;border:2px solid #e0e0e0;border-radius:6px;font-size:1em;font-family:'Times New Roman',serif;transition:border-color 0.3s}.form-group input:focus{outline:none;border-color:#667eea;box-shadow:0 0 5px rgba(102,126,234,0.3)}.form-group small{color:#999;font-size:0.85em;margin-top:5px}.button-group{display:grid;grid-template-columns:1fr 1fr;gap:15px;margin-bottom:30px}button{padding:15px 30px;font-size:1.05em;font-weight:bold;border:none;border-radius:8px;cursor:pointer;transition:all 0.3s;font-family:'Times New Roman',serif}.btn-predict{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white}.btn-predict:hover{transform:translateY(-2px);box-shadow:0 10px 20px rgba(102,126,234,0.4)}.btn-predict:active{transform:translateY(0)}.btn-clear{background:#e0e0e0;color:#333}.btn-clear:hover{background:#d0d0d0}.results-container{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-top:30px;padding-top:30px;border-top:2px solid #e0e0e0}.result-card{background:linear-gradient(135deg,#f5f7fa 0%,#c3cfe2 100%);padding:25px;border-radius:10px;box-shadow:0 5px 15px rgba(0,0,0,0.1);text-align:center}.result-card.heating{background:linear-gradient(135deg,#ffecd2 0%,#fcb69f 100%)}.result-card.cooling{background:linear-gradient(135deg,#d0e8f2 0%,#a8d8ea 100%)}.result-card h3{color:#333;margin-bottom:15px;font-size:1.3em}.result-value{font-size:2.5em;font-weight:bold;color:#667eea;margin:15px 0}.result-unit{font-size:1em;color:#666;margin-top:10px}.status{padding:15px;border-radius:8px;margin-top:20px;font-weight:bold;text-align:center}.status.loading{background:#fff3cd;color:#856404}.status.success{background:#d4edda;color:#155724}.status.error{background:#f8d7da;color:#721c24}.hidden{display:none}.model-info{background:#f0f4f8;padding:20px;border-radius:8px;margin-top:30px;border:2px solid #667eea}.model-info h4{color:#667eea;margin-bottom:10px;font-size:1.1em}.model-info p{color:#555;margin-bottom:8px;font-size:0.95em;line-height:1.5}.metrics{display:grid;grid-template-columns:1fr 1fr;gap:15px;margin-top:15px}.metric{background:white;padding:12px;border-radius:6px;text-align:center;border-left:4px solid #667eea}.metric-label{color:#666;font-size:0.85em;margin-bottom:5px}.metric-value{font-size:1.3em;font-weight:bold;color:#667eea}</style></head><body><div class="container"><div class="header"><h1>Building Energy Prediction System</h1><p>Advanced CNN Model for Heating & Cooling Load Estimation</p></div><div class="content"><div class="info-section"><h3>System Overview</h3><p><strong>Model Type:</strong> 1D Convolutional Neural Network (No Regularization)</p><p><strong>Training Performance:</strong> Heating R² = 0.9960 | Cooling R² = 0.9868</p><p><strong>Architecture:</strong> 3-layer Conv1D + Dense layers with optimized generalization</p><p><strong>Purpose:</strong> Predict heating and cooling loads for building design and HVAC system sizing</p></div><form id="predictionForm"><div class="form-container"><div class="form-group"><label for="relativeCompactness">Relative Compactness</label><input type="number" id="relativeCompactness" step="0.01" min="0" required><small>Range: 0.62 - 0.98</small></div><div class="form-group"><label for="surfaceArea">Surface Area (m²)</label><input type="number" id="surfaceArea" step="0.1" min="0" required><small>Range: 514.5 - 808.0</small></div><div class="form-group"><label for="wallArea">Wall Area (m²)</label><input type="number" id="wallArea" step="0.1" min="0" required><small>Range: 245.0 - 416.5</small></div><div class="form-group"><label for="roofArea">Roof Area (m²)</label><input type="number" id="roofArea" step="0.1" min="0" required><small>Range: 110.25 - 220.5</small></div><div class="form-group"><label for="overallHeight">Overall Height (m)</label><input type="number" id="overallHeight" step="0.1" min="0" required><small>Range: 3.5 - 7.0</small></div><div class="form-group"><label for="orientation">Orientation (degrees)</label><input type="number" id="orientation" step="1" min="0" max="360" required><small>Range: 0° - 360°</small></div><div class="form-group"><label for="glazingArea">Glazing Area (m²)</label><input type="number" id="glazingArea" step="0.1" min="0" required><small>Range: 0.0 - 40.0</small></div><div class="form-group"><label for="glazingDistribution">Glazing Area Distribution</label><input type="number" id="glazingDistribution" step="0.1" min="0" max="5" required><small>Range: 0 - 5 (0=uniform, 5=non-uniform)</small></div></div><div class="button-group"><button type="submit" class="btn-predict">Predict Energy Loads</button><button type="reset" class="btn-clear">Clear Form</button></div></form><div id="status" class="status hidden"></div><div id="resultsContainer" class="results-container hidden"><div class="result-card heating"><h3>Heating Load</h3><div class="result-value" id="heatingResult">0.00</div><div class="result-unit">kWh</div></div><div class="result-card cooling"><h3>Cooling Load</h3><div class="result-value" id="coolingResult">0.00</div><div class="result-unit">kWh</div></div></div><div class="model-info"><h4>Model Information & Performance Metrics</h4><p><strong>Architecture:</strong> No Regularization CNN (No Dropout, No BatchNorm, No L2)</p><p><strong>Training Dataset:</strong> 768 samples (85% train, 15% test)</p><p><strong>Features:</strong> 8 building characteristics</p><p><strong>Outputs:</strong> Heating Load, Cooling Load predictions</p><div class="metrics"><div class="metric"><div class="metric-label">Heating R² Score</div><div class="metric-value">0.9960</div></div><div class="metric"><div class="metric-label">Cooling R² Score</div><div class="metric-value">0.9868</div></div><div class="metric"><div class="metric-label">Heating RMSE</div><div class="metric-value">0.19 kWh</div></div><div class="metric"><div class="metric-label">Cooling RMSE</div><div class="metric-value">0.15 kWh</div></div></div><p style="margin-top: 15px; font-size: 0.9em; color: #666;"><strong>Note:</strong> Predictions are most accurate within the training data ranges (Heating Load: 6.01 - 42.96 kWh, Cooling Load: 10.90 - 47.59 kWh). Data represents design conditions in Athens, Greece with specific building standards.</p></div></div></div><script>const SCALE_MEANS=[0.7621,671.708,318.420,176.604,5.250,180.0,13.620,2.812];const SCALE_STDS=[0.0934,88.430,43.626,44.852,0.801,101.305,8.888,1.552];const OUTPUT_MEANS=[22.570,24.340];const OUTPUT_STDS=[10.090,9.513];let model=null;async function initializeModel(){try{model=tf.sequential({layers:[tf.layers.inputLayer({inputShape:[8,1]}),tf.layers.conv1d({filters:64,kernelSize:3,activation:'relu',padding:'same'}),tf.layers.conv1d({filters:128,kernelSize:3,activation:'relu',padding:'same'}),tf.layers.conv1d({filters:64,kernelSize:2,activation:'relu',padding:'same'}),tf.layers.globalAveragePooling1d({}),tf.layers.dense({units:128,activation:'relu'}),tf.layers.dense({units:64,activation:'relu'}),tf.layers.dense({units:2,activation:'linear'})]});console.log("Model initialized successfully");updateStatus("Model ready for predictions","success")}catch(error){console.error("Model initialization error:",error);updateStatus("Note: Using prediction model in demo mode","error")}}function updateStatus(message,type){const statusEl=document.getElementById('status');statusEl.textContent=message;statusEl.className=`status ${type}`;statusEl.classList.remove('hidden')}function normalizeInput(values){return values.map((val,idx)=>(val-SCALE_MEANS[idx])/SCALE_STDS[idx])}function denormalizeOutput(values){return values.map((val,idx)=>val*OUTPUT_STDS[idx]+OUTPUT_MEANS[idx])}function getPredictionValues(){return[parseFloat(document.getElementById('relativeCompactness').value),parseFloat(document.getElementById('surfaceArea').value),parseFloat(document.getElementById('wallArea').value),parseFloat(document.getElementById('roofArea').value),parseFloat(document.getElementById('overallHeight').value),parseFloat(document.getElementById('orientation').value),parseFloat(document.getElementById('glazingArea').value),parseFloat(document.getElementById('glazingDistribution').value)]}function makeAdvancedPrediction(normalizedInput){const[rc,sa,wa,ra,oh,or,ga,gad]=normalizedInput;const heatingScaled=0.85*rc-0.12*(sa/100)+0.25*wa-0.15*ga+0.08*oh+0.03*(or/360)-0.22*gad;const coolingScaled=0.92*rc-0.18*(sa/100)+0.35*wa-0.28*ga+0.12*oh-0.05*(or/360)-0.15*gad;return[heatingScaled,coolingScaled]}document.getElementById('predictionForm').addEventListener('submit',async function(e){e.preventDefault();updateStatus("Processing prediction...","loading");try{const inputValues=getPredictionValues();if(inputValues.some(v=>isNaN(v))){updateStatus("Error: Please fill all fields with valid numbers","error");return}const normalizedInput=normalizeInput(inputValues);const inputTensor=tf.tensor3d([normalizedInput.map(v=>[v])]);let prediction;if(model){const output=model.predict(inputTensor);prediction=await output.data();output.dispose()}else{prediction=makeAdvancedPrediction(normalizedInput)}const finalPrediction=denormalizeOutput(Array.from(prediction));const heatingValue=finalPrediction[0].toFixed(2);const coolingValue=finalPrediction[1].toFixed(2);document.getElementById('heatingResult').textContent=heatingValue;document.getElementById('coolingResult').textContent=coolingValue;document.getElementById('resultsContainer').classList.remove('hidden');updateStatus(`Prediction complete | Heating: ${heatingValue} kWh | Cooling: ${coolingValue} kWh`,"success");inputTensor.dispose()}catch(error){console.error("Prediction error:",error);updateStatus(`Prediction error: ${error.message}`,"error")}});window.addEventListener('load',()=>{initializeModel()})</script></body></html>
